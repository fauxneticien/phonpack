function TextGridtoJSON(e){function n(e){kv_out={};var n=e.split(/\u2600(\w+) = /).filter(function(e){return e.length>0});return n.forEach(function(e,t){if(t%2==0){var r=e,i=n[t+1];-1!=["xmin","xmax","number"].indexOf(r)?i=parseFloat(i):'"'==i[0]&&(i=i.replace(/^"|"\u2600?$/g,"").replace("☀","\n")),kv_out[r]=i}}),kv_out}var t={},r=e.split(/\n/).map(function(e){return e.replace(/^\s*|\s$/g,"")}).filter(function(e){return e.length>0}),i=r.slice(r.indexOf("item []:")+1).join("☀").split(/item \[\d+\]:\u2600/).filter(function(e){return e.length>0});return t.item=Array(),i.map(function(e){var r={},i=e.match(/class = "(\w*)"/)[1];if("IntervalTier"==i)var l="intervals";else if("TextTier"==i)var l="points";else console.log("Error: unrecognized tier type in file.");var u=new RegExp(l+": size = \\d+☀"),a=e.match(u);r=n("☀"+e.slice(0,a.index));var o=new RegExp(l+" \\[\\d+\\]:"),c=e.slice(a.index+a[0].length).split(o).filter(function(e){return e.length>0});r[l]=Array(),c.map(function(e){var t=n(e);r[l].push(t)}),t.item.push(r)}),t}